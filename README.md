
**Bitrix24 Bad Advice Extension Repackager** — это кроссплатформенное приложение с графическим интерфейсом,
предназначенное для пересборки расширения "Bitrix24: Bad Advice"
с возможностью указания уникальных адресов вашего портала Bitrix24.
Программа позволяет быстро адаптировать расширение под ваш домен и получить готовый архив для установки.

---

## Возможности

- Простая пересборка расширения Bitrix24: Bad Advice под ваш Bitrix24-домен.
- Графический интерфейс на базе [Fyne](https://fyne.io/).
- Поддержка Windows, macOS, Linux.
- Скрипты для сборки дистрибутивов под разные ОС.
- Генерация DMG для macOS и ZIP для Windows.

---

### 1. Клонируйте репозиторий

bash
git clone https://github.com/your-org/b24ad-repackager.git
cd b24ad-repackager


### 2. Установите зависимости

Убедитесь, что у вас установлен Go 1.21+.

```bash
  go mod tidy
```

### 3. Сборка приложения

#### Для вашей ОС:

- **macOS (x86_64):**
  ```bash
  make macos
  ```
- **macOS (ARM64, Apple Silicon):**
  ```bash
  make macos-arm
  ```
- **Linux:**
  ```bash
  make linux
  ```
- **Windows:**
  ```bash
  make windows
  ```

Или универсально:
```bash
  make all
```

---

## Сборка дистрибутива

### macOS: DMG-образ

1. Соберите бинарник:
   ```bash
   make macos
   ```
2. Запустите скрипт сборки DMG:
   ```bash
   ./mac-bulder.sh
   ```
   > Скрипт создаст `.app` и DMG-образ с иконкой.

### Windows: ZIP-архив

1. Соберите бинарник:
   ```bash
   make windows
   ```
2. Запустите скрипт сборки дистрибутива:
   ```bash
   ./win-builder.sh
   ```
   > Скрипт создаст папку с exe, иконкой (если есть `icon.ico`), README и архивирует всё в ZIP.

---

## Использование приложения

1. **Запустите приложение**.
2. **Выберите архив расширения** (`.zip`).
3. **Введите URL вашего портала Bitrix24** (например, `mycompany.bitrix24.ru`).
4. **Выберите место для сохранения нового архива**.
5. **Готово!** Получите новый архив расширения с вашими адресами.

---

## Зависимости

- Go 1.21+
- [Fyne](https://fyne.io/) (устанавливается через `go mod tidy`)
- Для сборки DMG: `sips`, `iconutil`, `create-dmg` (macOS)
- Для Windows-ярлыка: PowerShell (опционально)

---

## Полезные команды

- Очистить сборку:
  ```bash
  make clean
  ```
- Запустить приложение после сборки:
  ```bash
  make run
  ```

---

## Структура репозитория

- `source/` — исходный код на Go (основной файл: `main.go`)
- `Makefile` — сборка под разные ОС
- `start.sh` — быстрый запуск на macOS
- `mac-bulder.sh`, `win-builder.sh` — сборка дистрибутивов для macOS и Windows
- `icon.png` — иконка приложения
- `go.mod`, `go.sum` — зависимости Go

---

## Лицензия

MIT License
